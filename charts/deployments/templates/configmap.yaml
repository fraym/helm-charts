apiVersion: v1
kind: ConfigMap
metadata:
  name: fraeym-deployments-env-data
  namespace: {{ .Release.Namespace }}
data:
  .env: |
    {{- if .Values.debug }}
    APP_ENV=development
    LOG_LEVEL=debug
    {{- else }}
    APP_ENV=production
    LOG_LEVEL=info
    LOG_FORMAT=json
    {{- end }}
    
    CORS_ALLOW_ORIGINS=*

    AUTH_CLIENT_ADDRESS=auth.{{ .Release.Namespace }}.svc.cluster.local:9000
    CRUD_CLIENT_ADDRESS=crud.{{ .Release.Namespace }}.svc.cluster.local:9000
    PROJECTIONS_CLIENT_ADDRESS=projections.{{ .Release.Namespace }}.svc.cluster.local:9000
